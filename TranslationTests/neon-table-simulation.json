{
  "description": "Simulation of how the local format would be stored in Neon DB tables",
  "tables": {
    "projects": [
      {
        "id": 1,
        "title": "formatExample",
        "creator_id": "<from_auth>",
        "created_at": "2025-10-30T00:07:35.255Z",
        "updated_at": "2025-10-30T00:08:30.412Z",
        "code": "<auto_generated>"
      }
    ],
    "chapters": [
      {
        "id": 1,
        "project_id": 1,
        "creator_id": "<from_auth>",
        "number": 0,
        "title": "Chapter 1",
        "content": "basic body",
        "status": "Draft",
        "summary": "basic synopsis",
        "tags": ["exampleTag"],
        "created_at": "2025-10-30T00:07:35.255Z",
        "updated_at": "2025-10-30T00:08:21.996Z",
        "code": "chapter-1761782855255-1u1pt97x",
        "word_goal": 50
      }
    ],
    "notes": [
      {
        "id": 1,
        "project_id": 1,
        "creator_id": "<from_auth>",
        "number": 0,
        "title": "Note 1",
        "content": "basic body",
        "tags": ["exampleTag"],
        "category": "Misc",
        "pinned": true,
        "created_at": "2025-10-30T00:07:36.128Z",
        "updated_at": "2025-10-30T00:07:58.467Z",
        "code": "note-1761782856128-fz9shphg"
      }
    ],
    "refs": [
      {
        "id": 1,
        "project_id": 1,
        "creator_id": "<from_auth>",
        "number": 0,
        "title": "Reference 1",
        "tags": ["exampleTag"],
        "reference_type": "Glossary",
        "summary": "basic summary",
        "source_link": "",
        "content": "basic body",
        "created_at": "2025-10-30T00:07:36.868Z",
        "updated_at": "2025-10-30T00:08:30.412Z",
        "code": "reference-1761782856868-vjc9uac9"
      }
    ]
  },
  "notes": [
    "1. id fields are auto-incrementing in Neon",
    "2. project_id is a foreign key reference to the projects table",
    "3. creator_id would come from the authenticated user",
    "4. project code is auto-generated by a trigger",
    "5. number field maintains ordering within each project",
    "6. code field preserves the local ID for sync",
    "7. timestamps are preserved from local format",
    "8. UI state is not stored in database"
  ],
  "constraints": [
    "projects_pkey PRIMARY KEY (id)",
    "projects_code_key UNIQUE (code)",
    "chapters_pkey PRIMARY KEY (id)",
    "chapters_code_key UNIQUE (code)",
    "chapters_project_number_key UNIQUE (project_id, number)",
    "notes_pkey PRIMARY KEY (id)",
    "notes_code_key UNIQUE (code)",
    "notes_project_number_key UNIQUE (project_id, number)",
    "refs_pkey PRIMARY KEY (id)",
    "refs_code_key UNIQUE (code)",
    "refs_project_number_key UNIQUE (project_id, number)"
  ]
}